(self.webpackChunkmy_new_project=self.webpackChunkmy_new_project||[]).push([[633],{633:(r,o,e)=>{"use strict";e.r(o),e.d(o,{AuthenticationModule:()=>T});var t=e(1034),s=e(1116),i=e(3337),a=e(1041),n=e(5366),l=e(2509);function g(r,o){if(1&r&&(n.TgZ(0,"div",14),n._uU(1),n.qZA()),2&r){const r=n.oxw();n.xp6(1),n.hij(" ",r.errorMessage," ")}}function c(r,o){1&r&&(n.TgZ(0,"em"),n._uU(1,"Username is required"),n.qZA())}function m(r,o){1&r&&(n.TgZ(0,"em"),n._uU(1,"Password is required"),n.qZA())}let d=(()=>{class r{constructor(r,o,e){this._authService=r,this._router=o,this._route=e,this.errorMessage="",this.validateControl=r=>this.loginForm.controls[r].invalid&&this.loginForm.controls[r].touched,this.hasError=(r,o)=>this.loginForm.controls[r].hasError(o),this.loginUser=r=>{this.showError=!1;const o=Object.assign({},r),e={email:o.username,password:o.password};this._authService.loginUser("api/accounts/login",e).subscribe(r=>{localStorage.setItem("token",r.token),localStorage.setItem("email",e.email),localStorage.setItem("password",e.password),this._authService.sendAuthStateChangeNotification(r.isAuthSuccessful),this._router.navigate([this._returnUrl])},r=>{this.errorMessage=r,this.showError=!0})}}ngOnInit(){this.loginForm=new a.cw({username:new a.NI("",[a.kI.required]),password:new a.NI("",[a.kI.required])}),this._returnUrl=this._route.snapshot.queryParams.returnUrl||"/"}getCurrentUser(){this._authService.currentUser$.subscribe(r=>{this.loggedIn=!!r},r=>{console.log(r)})}logout(){this._authService.logout(),this._router.navigateByUrl("/**")}}return r.\u0275fac=function(o){return new(o||r)(n.Y36(l.$),n.Y36(i.F0),n.Y36(i.gz))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-login"]],decls:27,vars:5,consts:[[2,"background-color","rgba(0, 0, 0, 0.0)"],[1,"card-body"],[1,"card-title",2,"color","rgb(11, 5, 41)"],["class","alert alert-danger","role","alert",4,"ngIf"],["autocomplete","off","novalidate","",3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","username",1,"col-form-label","col-sm-2",2,"color","rgb(11, 5, 41)"],[1,"col-md-5"],["type","text","id","username","formControlName","username",1,"form-control"],[4,"ngIf"],["for","password",1,"col-form-label","col-sm-2",2,"color","rgb(11, 5, 41)"],["type","password","id","password","formControlName","password",1,"form-control"],[1,"col-md-1"],["type","submit",1,"btn","btn-info",3,"disabled"],["role","alert",1,"alert","alert-danger"]],template:function(r,o){1&r&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"h1",2),n._uU(3,"Login"),n.qZA(),n.YNc(4,g,2,1,"div",3),n.TgZ(5,"form",4),n.NdJ("ngSubmit",function(){return o.loginUser(o.loginForm.value)}),n.TgZ(6,"div",5),n.TgZ(7,"label",6),n.TgZ(8,"strong"),n._uU(9,"Username:"),n.qZA(),n.qZA(),n.TgZ(10,"div",7),n._UZ(11,"input",8),n.qZA(),n.TgZ(12,"div",7),n.YNc(13,c,2,0,"em",9),n.qZA(),n.qZA(),n.TgZ(14,"div",5),n.TgZ(15,"label",10),n.TgZ(16,"strong"),n._uU(17,"Password:"),n.qZA(),n.qZA(),n.TgZ(18,"div",7),n._UZ(19,"input",11),n.qZA(),n.TgZ(20,"div",7),n.YNc(21,m,2,0,"em",9),n.qZA(),n.qZA(),n._UZ(22,"br"),n.TgZ(23,"div",5),n.TgZ(24,"div",12),n.TgZ(25,"button",13),n._uU(26,"Login"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&r&&(n.xp6(4),n.Q6J("ngIf",o.showError),n.xp6(1),n.Q6J("formGroup",o.loginForm),n.xp6(8),n.Q6J("ngIf",o.validateControl("username")&&o.hasError("username","required")),n.xp6(8),n.Q6J("ngIf",o.validateControl("password")&&o.hasError("password","required")),n.xp6(4),n.Q6J("disabled",!o.loginForm.valid))},directives:[s.O5,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u],styles:[""]}),r})(),u=(()=>{class r{constructor(){this.validateConfirmPassword=r=>o=>{const e=o.value;return""===e?null:e!==r.value?{mustMatch:!0}:null}}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=n.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Z(r,o){if(1&r&&(n.TgZ(0,"div",27),n._UZ(1,"span",28),n.qZA()),2&r){const r=n.oxw();n.xp6(1),n.Q6J("innerHTML",r.errorMessage,n.oJD)}}function f(r,o){1&r&&(n.TgZ(0,"em",29),n._uU(1,"Please provide a valid email"),n.qZA())}function p(r,o){1&r&&(n.TgZ(0,"em",29),n._uU(1,"Email is required"),n.qZA())}function h(r,o){1&r&&(n.TgZ(0,"em",29),n._uU(1,"Password is required"),n.qZA())}function q(r,o){1&r&&(n.TgZ(0,"em",30),n._uU(1,"Confirmation is required"),n.qZA())}function A(r,o){1&r&&(n.TgZ(0,"em",30),n._uU(1,"Passwords must match"),n.qZA())}let v=(()=>{class r{constructor(r,o,e,t){this._authService=r,this._passConfValidator=o,this._router=e,this._route=t,this.errorMessage="",this.selectedCategory="Translator",this.validateControl=r=>this.registerForm.controls[r].invalid&&this.registerForm.controls[r].touched,this.hasError=(r,o)=>this.registerForm.controls[r].hasError(o),this.registerUser=r=>{this.showError=!1;const o=Object.assign({},r),e={FirstName:o.FirstName,LastName:o.LastName,Age:o.Age,Address:o.address,Description:o.description,Email:o.email,password:o.password,confirmPassword:o.confirm,UName:o.FirstName+o.LastName};this._authService.registerUser("api/accounts/UserRegistration",e).subscribe(r=>{console.log("Successful registration"),console.log(e),this._router.navigate([this._returnUrl])},r=>{this.errorMessage=r,this.showError=!0})}}ngOnInit(){this._returnUrl=this._route.snapshot.queryParams.returnUrl||"/auth/login",this.registerForm=new a.cw({FirstName:new a.NI(""),LastName:new a.NI(""),address:new a.NI(""),description:new a.NI(""),Age:new a.NI(""),email:new a.NI("",[a.kI.required,a.kI.email]),password:new a.NI("",[a.kI.required]),confirm:new a.NI("")}),this.registerForm.get("confirm").setValidators([a.kI.required,this._passConfValidator.validateConfirmPassword(this.registerForm.get("password"))])}selectChangeHandler(r){this.selectedCategory=r.target.value}}return r.\u0275fac=function(o){return new(o||r)(n.Y36(l.$),n.Y36(u),n.Y36(i.F0),n.Y36(i.gz))},r.\u0275cmp=n.Xpm({type:r,selectors:[["app-register-personnel"]],decls:67,vars:7,consts:[[2,"background-color","rgba(0, 0, 0, 0.0)"],[1,"card-body"],[1,"card-title",2,"color","rgb(11, 5, 41)"],["class","alert alert-danger","role","alert",4,"ngIf"],["autocomplete","off","novalidate","",3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","FirstName",1,"col-form-label","col-sm-2",2,"color","rgb(11, 5, 41)"],[1,"col-md-5"],["type","text","id","FirstName","formControlName","FirstName",1,"form-control"],["for","LastName",1,"col-form-label","col-sm-2",2,"color","rgb(11, 5, 41)"],["type","text","id","LastName","formControlName","LastName",1,"form-control"],["for","Age",1,"col-form-label","col-sm-2",2,"color","rgb(11, 5, 41)"],["type","text","id","Age","formControlName","Age",1,"form-control"],["for","Website",1,"col-form-label","col-sm-2",2,"color","rgb(11, 5, 41)"],["type","text","id","address","formControlName","address",1,"form-control"],["for","email",1,"col-form-label","col-sm-2",2,"color","rgb(11, 5, 41)"],["type","email","id","email","formControlName","email",1,"form-control"],["style","color :rgb(11, 5, 41)",4,"ngIf"],["for","Description",1,"col-form-label","col-sm-2",2,"color","rgb(11, 5, 41)"],["name","description","rows","10","formControlName","description","type","text",1,"form-control"],["for","password",1,"col-form-label","col-sm-2",2,"color","rgb(11, 5, 41)"],["type","password","id","password","formControlName","password",1,"form-control"],["for","confirm",1,"col-form-label","col-sm-2",2,"color","rgb(11, 5, 41)"],["type","password","id","confirm","formControlName","confirm",1,"form-control"],["style","color :rgb(v)",4,"ngIf"],[1,"col-md-1"],["type","submit",1,"btn","btn-info"],["role","alert",1,"alert","alert-danger"],[3,"innerHTML"],[2,"color","rgb(11, 5, 41)"],[2,"color","rgb(v)"]],template:function(r,o){1&r&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"h1",2),n._uU(3,"Welcome to our Platform!"),n.qZA(),n.YNc(4,Z,2,1,"div",3),n.TgZ(5,"form",4),n.NdJ("ngSubmit",function(){return o.registerUser(o.registerForm.value)}),n.TgZ(6,"div",5),n.TgZ(7,"label",6),n.TgZ(8,"strong"),n._uU(9,"First Name:"),n.qZA(),n.qZA(),n.TgZ(10,"div",7),n._UZ(11,"input",8),n.qZA(),n.qZA(),n.TgZ(12,"div",5),n.TgZ(13,"label",9),n.TgZ(14,"strong"),n._uU(15,"Last Name:"),n.qZA(),n.qZA(),n.TgZ(16,"div",7),n._UZ(17,"input",10),n.qZA(),n.qZA(),n.TgZ(18,"div",5),n.TgZ(19,"label",11),n.TgZ(20,"strong"),n._uU(21,"Age:"),n.qZA(),n.qZA(),n.TgZ(22,"div",7),n._UZ(23,"input",12),n.qZA(),n.qZA(),n.TgZ(24,"div",5),n.TgZ(25,"label",13),n.TgZ(26,"strong"),n._uU(27,"Address:"),n.qZA(),n.qZA(),n.TgZ(28,"div",7),n._UZ(29,"input",14),n.qZA(),n.qZA(),n.TgZ(30,"div",5),n.TgZ(31,"label",15),n.TgZ(32,"strong"),n._uU(33,"Email:"),n.qZA(),n.qZA(),n.TgZ(34,"div",7),n._UZ(35,"input",16),n.qZA(),n.TgZ(36,"div",7),n.YNc(37,f,2,0,"em",17),n.YNc(38,p,2,0,"em",17),n.qZA(),n.qZA(),n.TgZ(39,"div",5),n.TgZ(40,"label",18),n.TgZ(41,"strong"),n._uU(42,"Description:"),n.qZA(),n.qZA(),n.TgZ(43,"div",7),n._UZ(44,"textarea",19),n.qZA(),n.qZA(),n.TgZ(45,"div",5),n.TgZ(46,"label",20),n.TgZ(47,"strong"),n._uU(48,"Password:"),n.qZA(),n.qZA(),n.TgZ(49,"div",7),n._UZ(50,"input",21),n.qZA(),n.TgZ(51,"div",7),n.YNc(52,h,2,0,"em",17),n.qZA(),n.qZA(),n.TgZ(53,"div",5),n.TgZ(54,"label",22),n.TgZ(55,"strong"),n._uU(56,"Confirm Password:"),n.qZA(),n.qZA(),n.TgZ(57,"div",7),n._UZ(58,"input",23),n.qZA(),n.TgZ(59,"div",7),n.YNc(60,q,2,0,"em",24),n.YNc(61,A,2,0,"em",24),n.qZA(),n.qZA(),n._UZ(62,"br"),n.TgZ(63,"div",5),n.TgZ(64,"div",25),n.TgZ(65,"button",26),n._uU(66,"Register"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&r&&(n.xp6(4),n.Q6J("ngIf",o.showError),n.xp6(1),n.Q6J("formGroup",o.registerForm),n.xp6(32),n.Q6J("ngIf",o.validateControl("email")&&o.hasError("email","email")),n.xp6(1),n.Q6J("ngIf",o.validateControl("email")&&o.hasError("email","required")),n.xp6(14),n.Q6J("ngIf",o.validateControl("password")&&o.hasError("password","required")),n.xp6(8),n.Q6J("ngIf",o.validateControl("confirm")&&o.hasError("confirm","required")),n.xp6(1),n.Q6J("ngIf",o.hasError("confirm","mustMatch")))},directives:[s.O5,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u],styles:[""]}),r})(),T=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=n.oAB({type:r}),r.\u0275inj=n.cJS({imports:[[s.ez,a.UX,t.BW0,i.Bz.forChild([{path:"registerpersonnel",component:v},{path:"login",component:d}])]]}),r})()}}]);